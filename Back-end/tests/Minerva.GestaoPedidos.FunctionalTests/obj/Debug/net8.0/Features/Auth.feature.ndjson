{"source":{"uri":"Features/Auth.feature","data":"@Auth @E2E\r\nFeature: Autenticação (Login)\r\n  Como usuário da API de gestão de pedidos\r\n  Eu quero realizar login com matrícula e senha\r\n  Para obter um token de acesso aos recursos protegidos\r\n\r\n  Scenario: Login com credenciais válidas retorna 200 e token\r\n    Given que sou um usuário autenticável com matrícula \"admin\" e senha \"Admin@123\"\r\n    When eu realizo login na API\r\n    Then o status code da resposta deve ser 200\r\n    And o corpo da resposta deve conter \"accessToken\", \"expiresIn\" e \"user\"\r\n\r\n  Scenario: Credenciais inválidas retornam 401 Não autorizado\r\n    Given que sou um usuário com matrícula \"admin\" e senha incorreta \"SenhaErrada\"\r\n    When eu realizo login na API\r\n    Then o status code da resposta deve ser 401\r\n    And a resposta deve indicar erro de autenticação\r\n\r\n  Scenario: Payload inválido (sem matrícula e senha) retorna 400\r\n    Given que eu envio um payload de login vazio\r\n    When eu realizo login na API\r\n    Then o status code da resposta deve ser 400\r\n    And a mensagem de erro deve conter \"obrigat\"\r\n\r\n  Scenario: Falha de infraestrutura no login retorna 500 com mensagem amigável\r\n    Given que o servidor está configurado para simular falha no serviço de autenticação\r\n    When eu realizo login na API com matrícula \"admin\" e senha \"Admin@123\"\r\n    Then o status code da resposta deve ser 500\r\n    And o detalhe da resposta deve ser \"Ocorreu um erro interno no servidor.\"\r\n","mediaType":"text/x.cucumber.gherkin+plain"}}
{"gherkinDocument":{"uri":"Features/Auth.feature","feature":{"location":{"line":2,"column":1},"tags":[{"location":{"line":1,"column":1},"name":"@Auth","id":"d23cc23d31c54258879c907083a22f77"},{"location":{"line":1,"column":7},"name":"@E2E","id":"497a12d896472455a4b01acff71301d7"}],"language":"en-US","keyword":"Feature","name":"Autenticação (Login)","description":"  Como usuário da API de gestão de pedidos\r\n  Eu quero realizar login com matrícula e senha\r\n  Para obter um token de acesso aos recursos protegidos","children":[{"scenario":{"location":{"line":7,"column":3},"tags":[],"keyword":"Scenario","name":"Login com credenciais válidas retorna 200 e token","description":"","steps":[{"location":{"line":8,"column":5},"keyword":"Given ","keywordType":"Context","text":"que sou um usuário autenticável com matrícula \"admin\" e senha \"Admin@123\"","id":"88ecf32c84caf351b76948bdf5cf9404"},{"location":{"line":9,"column":5},"keyword":"When ","keywordType":"Action","text":"eu realizo login na API","id":"885d842c3345da539fcc8b13ce748b36"},{"location":{"line":10,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status code da resposta deve ser 200","id":"5403ded6dbe1bb5db39e59c4fc0f4cfa"},{"location":{"line":11,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"o corpo da resposta deve conter \"accessToken\", \"expiresIn\" e \"user\"","id":"4be50295c412d154b4c6c2f882f9eb2f"}],"examples":[],"id":"6d36723d9ba75d52816b0e410539bf5d"}},{"scenario":{"location":{"line":13,"column":3},"tags":[],"keyword":"Scenario","name":"Credenciais inválidas retornam 401 Não autorizado","description":"","steps":[{"location":{"line":14,"column":5},"keyword":"Given ","keywordType":"Context","text":"que sou um usuário com matrícula \"admin\" e senha incorreta \"SenhaErrada\"","id":"ee4334011826175e9e1bd2f1908519b7"},{"location":{"line":15,"column":5},"keyword":"When ","keywordType":"Action","text":"eu realizo login na API","id":"2bcd5ce4c4d3965d9ed52b01381e3c42"},{"location":{"line":16,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status code da resposta deve ser 401","id":"d8ad59a035c47f57821c50b478d69898"},{"location":{"line":17,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"a resposta deve indicar erro de autenticação","id":"1e230f58dbe8825c85c7644e58fea083"}],"examples":[],"id":"a1f84b3ce76c1759905b363d37c1d3c3"}},{"scenario":{"location":{"line":19,"column":3},"tags":[],"keyword":"Scenario","name":"Payload inválido (sem matrícula e senha) retorna 400","description":"","steps":[{"location":{"line":20,"column":5},"keyword":"Given ","keywordType":"Context","text":"que eu envio um payload de login vazio","id":"e1cf91a597292d5dbda920f06bea72f3"},{"location":{"line":21,"column":5},"keyword":"When ","keywordType":"Action","text":"eu realizo login na API","id":"1c6b36fe8dedc353b16632d0c7e29b17"},{"location":{"line":22,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status code da resposta deve ser 400","id":"b7c36810d24893568dba9c3243e54ab2"},{"location":{"line":23,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"a mensagem de erro deve conter \"obrigat\"","id":"959bae312b3e705bac66315bd81a5efc"}],"examples":[],"id":"d45d3bad58dd1d58a407f1f138bbcee4"}},{"scenario":{"location":{"line":25,"column":3},"tags":[],"keyword":"Scenario","name":"Falha de infraestrutura no login retorna 500 com mensagem amigável","description":"","steps":[{"location":{"line":26,"column":5},"keyword":"Given ","keywordType":"Context","text":"que o servidor está configurado para simular falha no serviço de autenticação","id":"d5e2a2d25b691a59b66e6f6d6587e7c3"},{"location":{"line":27,"column":5},"keyword":"When ","keywordType":"Action","text":"eu realizo login na API com matrícula \"admin\" e senha \"Admin@123\"","id":"08c6b526b10d6f5ebe8306a17b515395"},{"location":{"line":28,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status code da resposta deve ser 500","id":"7f81db763a08f15d8eac1542e3cc3aea"},{"location":{"line":29,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"o detalhe da resposta deve ser \"Ocorreu um erro interno no servidor.\"","id":"f618dbbf82577c5fabfa36d0b06eed8c"}],"examples":[],"id":"a550985eeefa0651b0ec0acdab2e7bc1"}}]},"comments":[]}}
{"pickle":{"id":"5a14940ce8a672539e7f0f6ce9b2161f","uri":"Features/Auth.feature","name":"Login com credenciais válidas retorna 200 e token","language":"en-US","steps":[{"astNodeIds":["88ecf32c84caf351b76948bdf5cf9404"],"id":"231d3456fc4ab0589a5e5c53aea32721","type":"Context","text":"que sou um usuário autenticável com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["885d842c3345da539fcc8b13ce748b36"],"id":"a0ddab024c98345b89d2a101a03b8fa4","type":"Action","text":"eu realizo login na API"},{"astNodeIds":["5403ded6dbe1bb5db39e59c4fc0f4cfa"],"id":"9bdf20525bebe45b948c4ef3149de272","type":"Outcome","text":"o status code da resposta deve ser 200"},{"astNodeIds":["4be50295c412d154b4c6c2f882f9eb2f"],"id":"6fb7842402885d51857efd2212a3ae1f","type":"Outcome","text":"o corpo da resposta deve conter \"accessToken\", \"expiresIn\" e \"user\""}],"tags":[{"name":"@Auth","astNodeId":"d23cc23d31c54258879c907083a22f77"},{"name":"@E2E","astNodeId":"497a12d896472455a4b01acff71301d7"}],"astNodeIds":["6d36723d9ba75d52816b0e410539bf5d"]}}
{"pickle":{"id":"e63c1d5923024352ab32189449ca8d84","uri":"Features/Auth.feature","name":"Credenciais inválidas retornam 401 Não autorizado","language":"en-US","steps":[{"astNodeIds":["ee4334011826175e9e1bd2f1908519b7"],"id":"8543255a8642df57adb039096c5fb028","type":"Context","text":"que sou um usuário com matrícula \"admin\" e senha incorreta \"SenhaErrada\""},{"astNodeIds":["2bcd5ce4c4d3965d9ed52b01381e3c42"],"id":"90ce22676a443851a31a2ceb38dedc90","type":"Action","text":"eu realizo login na API"},{"astNodeIds":["d8ad59a035c47f57821c50b478d69898"],"id":"318eb3fcc5c6fc5f906ed6e444bb6f41","type":"Outcome","text":"o status code da resposta deve ser 401"},{"astNodeIds":["1e230f58dbe8825c85c7644e58fea083"],"id":"61902c5d43b9aa50adc7066a714ca093","type":"Outcome","text":"a resposta deve indicar erro de autenticação"}],"tags":[{"name":"@Auth","astNodeId":"d23cc23d31c54258879c907083a22f77"},{"name":"@E2E","astNodeId":"497a12d896472455a4b01acff71301d7"}],"astNodeIds":["a1f84b3ce76c1759905b363d37c1d3c3"]}}
{"pickle":{"id":"e31544d29b51e65ba26486906deee4e1","uri":"Features/Auth.feature","name":"Payload inválido (sem matrícula e senha) retorna 400","language":"en-US","steps":[{"astNodeIds":["e1cf91a597292d5dbda920f06bea72f3"],"id":"12ba584ee25e86508320dded92a6226d","type":"Context","text":"que eu envio um payload de login vazio"},{"astNodeIds":["1c6b36fe8dedc353b16632d0c7e29b17"],"id":"acf0964299838e5488a43e1ff851c352","type":"Action","text":"eu realizo login na API"},{"astNodeIds":["b7c36810d24893568dba9c3243e54ab2"],"id":"a4a65507b179375b826287d194255e75","type":"Outcome","text":"o status code da resposta deve ser 400"},{"astNodeIds":["959bae312b3e705bac66315bd81a5efc"],"id":"2aca7628c61b0856b72c2465d4ede26d","type":"Outcome","text":"a mensagem de erro deve conter \"obrigat\""}],"tags":[{"name":"@Auth","astNodeId":"d23cc23d31c54258879c907083a22f77"},{"name":"@E2E","astNodeId":"497a12d896472455a4b01acff71301d7"}],"astNodeIds":["d45d3bad58dd1d58a407f1f138bbcee4"]}}
{"pickle":{"id":"a77a8c4b7ec6a45ea614c0f08fa41f16","uri":"Features/Auth.feature","name":"Falha de infraestrutura no login retorna 500 com mensagem amigável","language":"en-US","steps":[{"astNodeIds":["d5e2a2d25b691a59b66e6f6d6587e7c3"],"id":"9a399cd65879fb58b47913c11ac82376","type":"Context","text":"que o servidor está configurado para simular falha no serviço de autenticação"},{"astNodeIds":["08c6b526b10d6f5ebe8306a17b515395"],"id":"a295132bc938e351889abf9fab24560a","type":"Action","text":"eu realizo login na API com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["7f81db763a08f15d8eac1542e3cc3aea"],"id":"5f8d291d8da3b358b66b46e6ad1f584b","type":"Outcome","text":"o status code da resposta deve ser 500"},{"astNodeIds":["f618dbbf82577c5fabfa36d0b06eed8c"],"id":"1ccc6c6be076f65bbc1e57d63ff16966","type":"Outcome","text":"o detalhe da resposta deve ser \"Ocorreu um erro interno no servidor.\""}],"tags":[{"name":"@Auth","astNodeId":"d23cc23d31c54258879c907083a22f77"},{"name":"@E2E","astNodeId":"497a12d896472455a4b01acff71301d7"}],"astNodeIds":["a550985eeefa0651b0ec0acdab2e7bc1"]}}