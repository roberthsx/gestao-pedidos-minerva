{"source":{"uri":"Features/OrderScenarios.feature","data":"@Order @E2E\r\nFeature: Fluxo de Pedidos (E2E)\r\n  Como usuário da API de gestão de pedidos\r\n  Eu quero realizar login, criar pedidos e aprovar pedidos\r\n  Para validar as regras de negócio de valor e aprovação manual\r\n\r\n  Scenario: Pedido pequeno vai direto para Pago\r\n    Given que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"\r\n    And existe um cliente e condição de pagamento no banco para o teste\r\n    When eu crio um pedido com valor total menor ou igual a 5000\r\n    Then o status do pedido deve ser \"Pago\"\r\n    And o pedido deve ter RequiresManualApproval false\r\n\r\n  Scenario: Pedido grande exige aprovação manual\r\n    Given que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"\r\n    And existe um cliente e condição de pagamento no banco para o teste\r\n    When eu crio um pedido com valor total maior que 5000\r\n    Then o status do pedido deve ser \"Criado\"\r\n    And o pedido deve ter RequiresManualApproval true\r\n\r\n  Scenario: Criar pedido com dados zerados retorna 400 e mensagem de validação\r\n    Given que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"\r\n    When eu tento criar um pedido com CustomerId 0 e PaymentConditionId 0 e itens vazios\r\n    Then o status code da resposta deve ser 400\r\n    And o corpo da resposta deve conter mensagem de erro de validação\r\n\r\n  Scenario: Cadastrar item de pedido com quantidade zero retorna 400\r\n    Given que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"\r\n    And existe um cliente e condição de pagamento no banco para o teste\r\n    When eu tento criar um pedido com um item com quantidade zero\r\n    Then o status code da resposta deve ser 400\r\n    And a mensagem de erro deve ser \"A quantidade deve ser maior que zero.\"\r\n\r\n  Scenario: Aprovar pedido manualmente e validar mudança de status para Pago\r\n    Given que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"\r\n    And existe um cliente e condição de pagamento no banco para o teste\r\n    When eu crio um pedido com valor total maior que 5000\r\n    And o status do pedido deve ser \"Criado\"\r\n    When eu aprovo o pedido criado\r\n    Then o status do pedido deve ser \"Pago\"\r\n","mediaType":"text/x.cucumber.gherkin+plain"}}
{"gherkinDocument":{"uri":"Features/OrderScenarios.feature","feature":{"location":{"line":2,"column":1},"tags":[{"location":{"line":1,"column":1},"name":"@Order","id":"2b519385ab57a15d99e4750110dc2b8c"},{"location":{"line":1,"column":8},"name":"@E2E","id":"05d61ac8f881665698d6dc32fdafa113"}],"language":"en-US","keyword":"Feature","name":"Fluxo de Pedidos (E2E)","description":"  Como usuário da API de gestão de pedidos\r\n  Eu quero realizar login, criar pedidos e aprovar pedidos\r\n  Para validar as regras de negócio de valor e aprovação manual","children":[{"scenario":{"location":{"line":7,"column":3},"tags":[],"keyword":"Scenario","name":"Pedido pequeno vai direto para Pago","description":"","steps":[{"location":{"line":8,"column":5},"keyword":"Given ","keywordType":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"","id":"841c6a59f07dc656891dd17e0590793d"},{"location":{"line":9,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"existe um cliente e condição de pagamento no banco para o teste","id":"c41acb62e01fed5f955fb9f2d6d2779d"},{"location":{"line":10,"column":5},"keyword":"When ","keywordType":"Action","text":"eu crio um pedido com valor total menor ou igual a 5000","id":"da73f1a453ccca52b2ec62cdbb9b0c0d"},{"location":{"line":11,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status do pedido deve ser \"Pago\"","id":"7dbf2a41eaca61558a35fa0806136ed1"},{"location":{"line":12,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"o pedido deve ter RequiresManualApproval false","id":"1430183dee095553924310e8514be79d"}],"examples":[],"id":"514d2ada482a69529649061d1a2287a8"}},{"scenario":{"location":{"line":14,"column":3},"tags":[],"keyword":"Scenario","name":"Pedido grande exige aprovação manual","description":"","steps":[{"location":{"line":15,"column":5},"keyword":"Given ","keywordType":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"","id":"bc859fe60cf30c5eb61a3161cb540e5f"},{"location":{"line":16,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"existe um cliente e condição de pagamento no banco para o teste","id":"9b133f393bcbba518eeea908820050da"},{"location":{"line":17,"column":5},"keyword":"When ","keywordType":"Action","text":"eu crio um pedido com valor total maior que 5000","id":"14f4f677cb66ac5cb8ca860f748a8c7f"},{"location":{"line":18,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status do pedido deve ser \"Criado\"","id":"532cbfb17f2a9a51adabf8a948ffaaae"},{"location":{"line":19,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"o pedido deve ter RequiresManualApproval true","id":"3999b09110dd76599bfe25781be47dee"}],"examples":[],"id":"4bbe661cfc298e5da449656d570aff40"}},{"scenario":{"location":{"line":21,"column":3},"tags":[],"keyword":"Scenario","name":"Criar pedido com dados zerados retorna 400 e mensagem de validação","description":"","steps":[{"location":{"line":22,"column":5},"keyword":"Given ","keywordType":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"","id":"d91538b7b1cb1955b4ce0a52699d5aec"},{"location":{"line":23,"column":5},"keyword":"When ","keywordType":"Action","text":"eu tento criar um pedido com CustomerId 0 e PaymentConditionId 0 e itens vazios","id":"1f1c2b715bfcc252855d68b7c6f7faf6"},{"location":{"line":24,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status code da resposta deve ser 400","id":"fc4c9f4ab4a7f658803f649e001b436d"},{"location":{"line":25,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"o corpo da resposta deve conter mensagem de erro de validação","id":"3a6e29ae6f694358aa1b68884b453e74"}],"examples":[],"id":"14f2241e89a94c59abe814057c10cae2"}},{"scenario":{"location":{"line":27,"column":3},"tags":[],"keyword":"Scenario","name":"Cadastrar item de pedido com quantidade zero retorna 400","description":"","steps":[{"location":{"line":28,"column":5},"keyword":"Given ","keywordType":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"","id":"01b15c2f78b18858bc2d5441a79578cf"},{"location":{"line":29,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"existe um cliente e condição de pagamento no banco para o teste","id":"edb44cc49248405eb13381c66cf000e6"},{"location":{"line":30,"column":5},"keyword":"When ","keywordType":"Action","text":"eu tento criar um pedido com um item com quantidade zero","id":"57d4743600377259b52f02505ca07730"},{"location":{"line":31,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status code da resposta deve ser 400","id":"4bcafb247234995ba0f48fe9a9a0212e"},{"location":{"line":32,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"a mensagem de erro deve ser \"A quantidade deve ser maior que zero.\"","id":"146f75f555643459b9d29c6b0a107e55"}],"examples":[],"id":"93c8a9560795eb54ac5db9d91b8409ac"}},{"scenario":{"location":{"line":34,"column":3},"tags":[],"keyword":"Scenario","name":"Aprovar pedido manualmente e validar mudança de status para Pago","description":"","steps":[{"location":{"line":35,"column":5},"keyword":"Given ","keywordType":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\"","id":"febf9ff72ce30e5383e6e4f459a40460"},{"location":{"line":36,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"existe um cliente e condição de pagamento no banco para o teste","id":"ff0012066903f35c8d97300bf84a239e"},{"location":{"line":37,"column":5},"keyword":"When ","keywordType":"Action","text":"eu crio um pedido com valor total maior que 5000","id":"8850ae0b294b3f559f06c5403f1e6cbc"},{"location":{"line":38,"column":5},"keyword":"And ","keywordType":"Conjunction","text":"o status do pedido deve ser \"Criado\"","id":"3c959d0538c53150b49865e360e6a4ac"},{"location":{"line":39,"column":5},"keyword":"When ","keywordType":"Action","text":"eu aprovo o pedido criado","id":"c5e6b521e9a5e45fa33e0139db781df2"},{"location":{"line":40,"column":5},"keyword":"Then ","keywordType":"Outcome","text":"o status do pedido deve ser \"Pago\"","id":"711f0e38926a1c5286dda31ba5c70a49"}],"examples":[],"id":"177e97c07bd5de54ad800ec2d292e29c"}}]},"comments":[]}}
{"pickle":{"id":"80b2169ac6ec055f82e418173300e9ae","uri":"Features/OrderScenarios.feature","name":"Pedido pequeno vai direto para Pago","language":"en-US","steps":[{"astNodeIds":["841c6a59f07dc656891dd17e0590793d"],"id":"21ccbd9d5b00245ba342d1a7b7823212","type":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["c41acb62e01fed5f955fb9f2d6d2779d"],"id":"3869c27220c06759bd7251527b2e920c","type":"Context","text":"existe um cliente e condição de pagamento no banco para o teste"},{"astNodeIds":["da73f1a453ccca52b2ec62cdbb9b0c0d"],"id":"7cb3edbbb6017a5186e68bef0fec5c1c","type":"Action","text":"eu crio um pedido com valor total menor ou igual a 5000"},{"astNodeIds":["7dbf2a41eaca61558a35fa0806136ed1"],"id":"71a82ed4bcda7758bdbb35a755e351f0","type":"Outcome","text":"o status do pedido deve ser \"Pago\""},{"astNodeIds":["1430183dee095553924310e8514be79d"],"id":"3b26abea3ccf3552b54b04338104030c","type":"Outcome","text":"o pedido deve ter RequiresManualApproval false"}],"tags":[{"name":"@Order","astNodeId":"2b519385ab57a15d99e4750110dc2b8c"},{"name":"@E2E","astNodeId":"05d61ac8f881665698d6dc32fdafa113"}],"astNodeIds":["514d2ada482a69529649061d1a2287a8"]}}
{"pickle":{"id":"88449279f4d37f53bab0ac1bb54fb427","uri":"Features/OrderScenarios.feature","name":"Pedido grande exige aprovação manual","language":"en-US","steps":[{"astNodeIds":["bc859fe60cf30c5eb61a3161cb540e5f"],"id":"eae73788c8c6835e99c5e17438aca735","type":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["9b133f393bcbba518eeea908820050da"],"id":"a4ba7a96b7714b509f2174e91ca198b3","type":"Context","text":"existe um cliente e condição de pagamento no banco para o teste"},{"astNodeIds":["14f4f677cb66ac5cb8ca860f748a8c7f"],"id":"f7898ab509cf255ebde1245a7a35d135","type":"Action","text":"eu crio um pedido com valor total maior que 5000"},{"astNodeIds":["532cbfb17f2a9a51adabf8a948ffaaae"],"id":"0de8da1e1fbab85896244a0f587aa713","type":"Outcome","text":"o status do pedido deve ser \"Criado\""},{"astNodeIds":["3999b09110dd76599bfe25781be47dee"],"id":"4101f4e93886d0578df96391220d6920","type":"Outcome","text":"o pedido deve ter RequiresManualApproval true"}],"tags":[{"name":"@Order","astNodeId":"2b519385ab57a15d99e4750110dc2b8c"},{"name":"@E2E","astNodeId":"05d61ac8f881665698d6dc32fdafa113"}],"astNodeIds":["4bbe661cfc298e5da449656d570aff40"]}}
{"pickle":{"id":"33a755fdeef7305fa5b50be1b79d3526","uri":"Features/OrderScenarios.feature","name":"Criar pedido com dados zerados retorna 400 e mensagem de validação","language":"en-US","steps":[{"astNodeIds":["d91538b7b1cb1955b4ce0a52699d5aec"],"id":"bb32b4a2ca65005baba7a75fc527fd57","type":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["1f1c2b715bfcc252855d68b7c6f7faf6"],"id":"5763651e1b64335092e67ac7029b0d81","type":"Action","text":"eu tento criar um pedido com CustomerId 0 e PaymentConditionId 0 e itens vazios"},{"astNodeIds":["fc4c9f4ab4a7f658803f649e001b436d"],"id":"fb2a8ca4ff0c2d5f8e20acdd0d7d437c","type":"Outcome","text":"o status code da resposta deve ser 400"},{"astNodeIds":["3a6e29ae6f694358aa1b68884b453e74"],"id":"39d13f362c5cfe5aad8072631d9384e8","type":"Outcome","text":"o corpo da resposta deve conter mensagem de erro de validação"}],"tags":[{"name":"@Order","astNodeId":"2b519385ab57a15d99e4750110dc2b8c"},{"name":"@E2E","astNodeId":"05d61ac8f881665698d6dc32fdafa113"}],"astNodeIds":["14f2241e89a94c59abe814057c10cae2"]}}
{"pickle":{"id":"b77dd69e96a67d578f586220fd2b996b","uri":"Features/OrderScenarios.feature","name":"Cadastrar item de pedido com quantidade zero retorna 400","language":"en-US","steps":[{"astNodeIds":["01b15c2f78b18858bc2d5441a79578cf"],"id":"5a0118a0f135fd55a2eac2ac20e9785f","type":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["edb44cc49248405eb13381c66cf000e6"],"id":"d606e65a24aa98548d0a507e6d2c533a","type":"Context","text":"existe um cliente e condição de pagamento no banco para o teste"},{"astNodeIds":["57d4743600377259b52f02505ca07730"],"id":"00df12be43940c5180e9660e065f1bbe","type":"Action","text":"eu tento criar um pedido com um item com quantidade zero"},{"astNodeIds":["4bcafb247234995ba0f48fe9a9a0212e"],"id":"07aa1d4b9b1536538bc65d6d09e992bb","type":"Outcome","text":"o status code da resposta deve ser 400"},{"astNodeIds":["146f75f555643459b9d29c6b0a107e55"],"id":"a840086f1a15bb529d83ca1634e787f3","type":"Outcome","text":"a mensagem de erro deve ser \"A quantidade deve ser maior que zero.\""}],"tags":[{"name":"@Order","astNodeId":"2b519385ab57a15d99e4750110dc2b8c"},{"name":"@E2E","astNodeId":"05d61ac8f881665698d6dc32fdafa113"}],"astNodeIds":["93c8a9560795eb54ac5db9d91b8409ac"]}}
{"pickle":{"id":"44c33a89e38df353b5b172594c9c4078","uri":"Features/OrderScenarios.feature","name":"Aprovar pedido manualmente e validar mudança de status para Pago","language":"en-US","steps":[{"astNodeIds":["febf9ff72ce30e5383e6e4f459a40460"],"id":"7f8ade937edcf55f9bab1d1264214756","type":"Context","text":"que eu realizei login com matrícula \"admin\" e senha \"Admin@123\""},{"astNodeIds":["ff0012066903f35c8d97300bf84a239e"],"id":"e16ac0aee1f2335a9302cad478c894a7","type":"Context","text":"existe um cliente e condição de pagamento no banco para o teste"},{"astNodeIds":["8850ae0b294b3f559f06c5403f1e6cbc"],"id":"9c95897454ea955480da2be9f9ae93d4","type":"Action","text":"eu crio um pedido com valor total maior que 5000"},{"astNodeIds":["3c959d0538c53150b49865e360e6a4ac"],"id":"d038722a03d88255949d232e30f4f390","type":"Action","text":"o status do pedido deve ser \"Criado\""},{"astNodeIds":["c5e6b521e9a5e45fa33e0139db781df2"],"id":"a738d37f2a911c5997e4dd5a2fb30539","type":"Action","text":"eu aprovo o pedido criado"},{"astNodeIds":["711f0e38926a1c5286dda31ba5c70a49"],"id":"3aaa61ebbb34445cac058a6027427e94","type":"Outcome","text":"o status do pedido deve ser \"Pago\""}],"tags":[{"name":"@Order","astNodeId":"2b519385ab57a15d99e4750110dc2b8c"},{"name":"@E2E","astNodeId":"05d61ac8f881665698d6dc32fdafa113"}],"astNodeIds":["177e97c07bd5de54ad800ec2d292e29c"]}}